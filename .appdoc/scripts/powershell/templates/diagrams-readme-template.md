# Architecture Diagrams

This directory contains C4 model architecture diagrams for the system.

## Diagram Files

### Source Files (`.puml`)
PlantUML source files that define the diagrams using the C4-PlantUML library. These can be:
- Viewed directly in compatible editors (VS Code with PlantUML extension)
- Rendered to SVG/PNG using PlantUML tools
- Version controlled and reviewed in pull requests

### Rendered Files (`.svg`)
SVG (Scalable Vector Graphics) renderings of the PlantUML diagrams. These are:
- Viewable in any modern web browser
- Embeddable in Markdown documentation
- Print-friendly and resolution-independent

## Rendering PlantUML Diagrams

### Online Rendering
Visit [PlantUML Online Editor](http://www.plantuml.com/plantuml/uml/) and paste the contents of any `.puml` file.

### Local Rendering (requires Java)

**Option 1: Using PlantUML JAR**
```powershell
# Download PlantUML JAR (one-time setup)
Invoke-WebRequest -Uri "https://github.com/plantuml/plantuml/releases/download/v1.2023.12/plantuml-1.2023.12.jar" -OutFile "plantuml.jar"

# Render a single diagram
java -jar plantuml.jar -tsvg c4-context.puml

# Render all diagrams
java -jar plantuml.jar -tsvg *.puml
```

**Option 2: Using AppDoc Generator**
```powershell
# Regenerate diagrams (requires solution file)
.\.appdoc\scripts\powershell\generate-c4-diagrams.ps1 -CodebasePath "path\to\solution.sln" -OutputPath "docs" -Force
```

### VS Code Extension
Install the [PlantUML extension](https://marketplace.visualstudio.com/items?itemName=jebbs.plantuml) to preview `.puml` files directly in VS Code.

## C4 Model Levels

This documentation may include multiple levels of C4 diagrams:

### Level 1: System Context Diagram
- **File**: `c4-context.puml` / `c4-context.svg`
- **Shows**: The software system in its environment, external systems, and user interactions
- **Audience**: Technical and non-technical stakeholders
- **Purpose**: Understand system boundaries and external dependencies

### Level 2: Container Diagram  
- **File**: `c4-container.puml` / `c4-container.svg`
- **Shows**: Major containers (applications, services, databases) within the system
- **Audience**: Technical stakeholders, architects, developers
- **Purpose**: Understand high-level technology choices and system decomposition

### Level 3: Component Diagram
- **File**: `c4-component-*.puml` / `c4-component-*.svg`
- **Shows**: Components within a specific container (controllers, services, repositories)
- **Audience**: Developers, technical leads
- **Purpose**: Understand internal structure and responsibilities within a container

## Updating Diagrams

Diagrams are automatically generated from the codebase by analyzing:
- Solution and project files (`.sln`, `.csproj`)
- NuGet package references (for external system detection)
- Project references (for container relationships)
- Source code structure (for component diagrams)

To regenerate after code changes:

```powershell
# Regenerate all diagrams
.\.appdoc\scripts\powershell\run-all-generators.ps1 -RootPath "."

# Regenerate specific diagram levels
.\.appdoc\scripts\powershell\generate-c4-diagrams.ps1 -CodebasePath "solution.sln" -DiagramLevels Context
.\.appdoc\scripts\powershell\generate-c4-diagrams.ps1 -CodebasePath "solution.sln" -DiagramLevels Container
.\.appdoc\scripts\powershell\generate-c4-diagrams.ps1 -CodebasePath "solution.sln" -DiagramLevels All -Force
```

## Resources

- [C4 Model](https://c4model.com/) - The C4 model for visualizing software architecture
- [C4-PlantUML](https://github.com/plantuml-stdlib/C4-PlantUML) - C4 model macros for PlantUML
- [PlantUML](https://plantuml.com/) - Diagram generation tool
- [AppDoc](https://github.com/HeWhoRoams/AppDoc) - Documentation generation framework

---

*Auto-generated by AppDoc C4 Diagram Generator*
